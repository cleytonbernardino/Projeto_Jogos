[gd_scene load_steps=7 format=2]

[ext_resource path="res://assets/lifeBar.png" type="Texture" id=1]
[ext_resource path="res://assets/life and magic.png" type="Texture" id=2]
[ext_resource path="res://assets/fights/icon/ryanman.png" type="Texture" id=3]

[sub_resource type="GDScript" id=3]
script/source = "extends Control
class_name HealthBar

onready var health: ProgressBar = $HealthBar
onready var mana: ProgressBar = $ManaBar
onready var icon: TextureRect = $PlayerIcon

# MELHOR ISSO
func set_icon(fight_name: String) -> void:
	var path: String = \"res://assets/fights/icon/{0}.png\".format([fight_name])
	var texture: Texture = ImageTexture.new()

	texture.load(path)
	icon.set_texture(texture)

func DEBUG_set_max_heath(heath_value: int) -> void:
	health.max_value = heath_value
	health.value = heath_value

func DEBUG_set_max_mana(mana_value: int) -> void:
	if mana_value <= 0:
		mana.max_value = 100
		mana.value = 0
		return

	mana.max_value = mana_value
	mana.value = mana_value

func damage(value: int) -> void:
	health.value -= value

func set_mana(value: int) -> void:
	mana.value = value
"

[sub_resource type="StyleBoxTexture" id=1]
texture = ExtResource( 2 )
region_rect = Rect2( 448, 630, 798, 98 )

[sub_resource type="StyleBoxTexture" id=2]
texture = ExtResource( 2 )
region_rect = Rect2( 406, 826, 798, 28 )

[node name="HealthBar" type="Control"]
anchor_right = 1.0
anchor_bottom = 1.0
script = SubResource( 3 )

[node name="PlayerIcon" type="TextureRect" parent="."]
margin_left = 60.0
margin_top = -64.0
margin_right = 136.0
margin_bottom = 7.0
texture = ExtResource( 3 )
expand = true
flip_h = true
__meta__ = {
"_edit_lock_": true
}

[node name="HealthBar" type="ProgressBar" parent="."]
margin_left = 60.0
margin_top = -14.0
margin_right = 238.0
margin_bottom = 12.0
rect_rotation = 180.0
custom_styles/fg = SubResource( 1 )
step = 1.0
value = 100.0
percent_visible = false

[node name="ManaBar" type="ProgressBar" parent="."]
anchor_bottom = 0.006
margin_left = 60.0
margin_right = 230.0
margin_bottom = 4.6
rect_rotation = 180.0
custom_styles/fg = SubResource( 2 )
value = 40.0
percent_visible = false

[node name="Frame" type="TextureRect" parent="."]
margin_left = -152.0
margin_top = -152.0
margin_right = 848.0
margin_bottom = 848.0
rect_scale = Vector2( 0.3, 0.3 )
rect_clip_content = true
texture = ExtResource( 1 )
flip_h = true
__meta__ = {
"_edit_lock_": true
}
